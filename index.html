<!DOCTYPE html>
<script>
    const urlParams = new URLSearchParams(window.location.search);
    const tableId = urlParams.get("tableId");

    if (!tableId) {
        alert("No table ID provided! Redirecting to lobby...");
        window.location.href = "lobby.html";
    }

    const playerName = sessionStorage.getItem("playerName") || prompt("Enter your name:");
    sessionStorage.setItem("playerName", playerName);

    const socket = new WebSocket("ws://localhost:8080");

    socket.onopen = () => {
        console.log("âœ… Connected to WebSocket");
        socket.send(JSON.stringify({ type: "joinTable", tableId, name: playerName }));
    };

    socket.onmessage = (event) => {
        const data = JSON.parse(event.data);
        console.log("ðŸ“© Received:", data);
    };
</script>

<html>
<head>
    <title>Pokerdex</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Pokerdex</h1>

    <div id="player-input">
        <input type="text" id="player-name-input" placeholder="Enter player name">
        <button id="add-player-btn">Add Player</button>
        <button id="start-game-btn">Start Game</button>
        <div id="reveal-options"></div>
<div id="hand-history"></div>

        
        
    </div>
    <div id="action-history-container">
    <h3>Last 5 Actions</h3>
    <ul id="action-history"></ul>
</div>

<div id="show-hide-buttons" style="display: none; text-align: center; margin-top: 10px;">
    <button id="show-cards-btn">Show Cards</button>
    <button id="hide-cards-btn">Hide Cards</button>
</div>


    <div id="game-container">
        <div id="table">
            <div id="community-cards"></div>
            <div id="pot"></div>
            <div id="round"></div>
            <div id="currentBet"></div>
        <div id="players"></div>
        <div id="message"></div>
       <div id="action-buttons">
    <button id="fold-btn">Fold</button>
    <button id="check-btn">Check</button>  <button id="call-btn">Call</button>
    <input type="number" id="bet-input" placeholder="Bet Amount">
    <button id="raise-btn">Raise</button>
    <button id="restart-btn">Restart</button>
</div>
            
    </div>
    <script src="game.js"></script>
</body>
</html>
